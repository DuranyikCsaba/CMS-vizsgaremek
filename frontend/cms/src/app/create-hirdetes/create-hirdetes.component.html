<form id="hirdetesForm" [formGroup]="hirdetesForm" (ngSubmit)="onSubmit()">
  <div id="hirdetesPanel">
    <div id="hirdetesTitle">
      <h2>Hirdetés Feladása</h2>
    </div>

    <!-- Adatok mező -->
    <div class="form-group">
      <label for="adatok">Adatok</label>
      <input type="text" id="adatok" class="hirdetesInputs" formControlName="adatok" required>
      <div *ngIf="hirdetesForm.get('adatok')?.invalid && hirdetesForm.get('adatok')?.touched" class="error-message">
        Az adatok megadása kötelező!
      </div>
    </div>

    <!-- Modell mező -->
    <div class="form-group">
      <label for="modell">Modell</label>
      <input type="text" id="modell" class="hirdetesInputs" formControlName="modell" required>
      <div *ngIf="hirdetesForm.get('modell')?.invalid && hirdetesForm.get('modell')?.touched" class="error-message">
        A modell megadása kötelező!
      </div>
    </div>

    <!-- Márka mező -->
    <div class="form-group">
      <label for="marka">Márka</label>
      <input type="text" id="marka" class="hirdetesInputs" formControlName="marka" required>
      <div *ngIf="hirdetesForm.get('marka')?.invalid && hirdetesForm.get('marka')?.touched" class="error-message">
        A márka megadása kötelező!
      </div>
    </div>

    <!-- Ajtók száma mező -->
    <div class="form-group">
      <label for="ajtok_szama">Ajtók száma</label>
      <input type="number" id="ajtok_szama" class="hirdetesInputs" formControlName="ajtok_szama" required>
      <div *ngIf="hirdetesForm.get('ajtok_szama')?.invalid && hirdetesForm.get('ajtok_szama')?.touched" class="error-message">
        Az ajtók száma nem lehet kisebb, mint 1!
      </div>
    </div>

    <!-- Hengerűrtartalom mező -->
    <div class="form-group">
      <label for="hengerurtartalom">Hengerűrtartalom</label>
      <input type="number" step="0.1" id="hengerurtartalom" class="hirdetesInputs" formControlName="hengerurtartalom" required>
      <div *ngIf="hirdetesForm.get('hengerurtartalom')?.invalid && hirdetesForm.get('hengerurtartalom')?.touched" class="error-message">
        A hengerűrtartalom nem lehet negatív!
      </div>
    </div>

    <!-- Üzemanyag mező -->
    <div class="form-group">
      <label for="uzemanyag">Üzemanyag</label>
      <select id="uzemanyag" class="hirdetesInputs" formControlName="uzemanyag" required>
        <option value="">Válasszon üzemanyagot</option>
        <option value="Benzin">Benzin</option>
        <option value="Dízel">Dízel</option>
        <option value="Elektromos">Elektromos</option>
        <option value="Hibrid">Hibrid</option>
      </select>
      <div *ngIf="hirdetesForm.get('uzemanyag')?.invalid && hirdetesForm.get('uzemanyag')?.touched" class="error-message">
        Az üzemanyag kiválasztása kötelező!
      </div>
    </div>

    <!-- Évjárat mező -->
    <div class="form-group">
      <label for="evjarat">Évjárat</label>
      <input type="number" id="evjarat" class="hirdetesInputs" formControlName="evjarat" required>
      <div *ngIf="hirdetesForm.get('evjarat')?.invalid && hirdetesForm.get('evjarat')?.touched" class="error-message">
        Az évjáratnak 1900 és {{ currentYear }} között kell lennie!
      </div>
    </div>

    <!-- Képek feltöltése -->
    <div class="form-group">
      <label for="kepek">Képek</label>
      <input type="file" id="kepek" (change)="onFileSelected($event)" accept="image/*" multiple>
      <div *ngIf="selectedFiles.length === 0 && hirdetesForm.get('kepek')?.touched" class="error-message">
        Legalább egy kép kiválasztása kötelező!
      </div>
      <div *ngIf="imageUrls.length > 0">
        <h3>Kiválasztott képek:</h3>
        <div *ngFor="let imageUrl of imageUrls">
          <img [src]="imageUrl" alt="Selected Image" style="max-width: 100px; max-height: 100px; margin: 5px;">
        </div>
      </div>
    </div>

    <!-- Hirdetés feladása gomb -->
    <button id="hirdetesSubmit" *ngIf="isLoggedIn$ | async" type="submit" class="btn" [disabled]="!hirdetesForm.valid || selectedFiles.length === 0">
      Hirdetés Feladása
    </button>

    <!-- Bejelentkezési üzenet -->
    <p id="hirdetesToLogin" *ngIf="!(isLoggedIn$ | async)">Kérjük, jelentkezzen be a hirdetés feladásához.</p>
  </div>
</form>